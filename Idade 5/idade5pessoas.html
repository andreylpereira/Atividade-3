<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Calcule a média de idade de 5 pessoas</title>
    </head>
    <body>
        <h1>Calcule a média de idade de 5 pessoas</h1>

        <h2>Insira os dados abaixo</h2>

        <div id="infos">
            <div>
                <label for="usuario1">Usuário 1</label>
                <input id="nome1" type="text" placeholder="Nome">
                <input id="idade1" type="number" name="Idade" placeholder="Idade" min="1" max="127">
            </div>

            <div>
                <label for="usuario2">Usuário 2</label>
                <input id="nome2" type="text" placeholder="Nome">
                <input id="idade2" type="number" name="Idade" placeholder="Idade" min="1" max="127">
            </div>

            <div>
                <label for="usuario3">Usuário 3</label>
                <input id="nome3" type="text" placeholder="Nome">
                <input id="idade3" type="number" name="Idade" placeholder="Idade" min="1" max="127">
            </div>

            <div>
                <label for="usuario4">Usuário 4</label>
                <input id="nome4" type="text" placeholder="Nome">
                <input id="idade4" type="number" name="Idade" placeholder="Idade" min="1" max="127">
            </div>

            <div>
                <label for="usuario5">Usuário 5</label>
                <input id="nome5" type="text" placeholder="Nome">
                <input id="idade5" type="number" name="Idade" placeholder="Idade" min="1" max="127">
            </div>

            <button onclick="enviar()">Enviar</button>
            <button onclick="limpar()">Limpar</button>

            <p id="resultadoMedias"></p>

        </div>

    </body>

<script>
    
function enviar() {
    
    var nomeUsuario1 = document.getElementById("nome1").value
    var idadeUsuario1 = document.getElementById("idade1").value
    var nomeUsuario2 = document.getElementById("nome2").value
    var idadeUsuario2 = document.getElementById("idade2").value
    var nomeUsuario3 = document.getElementById("nome3").value
    var idadeUsuario3 = document.getElementById("idade3").value
    var nomeUsuario4 = document.getElementById("nome4").value
    var idadeUsuario4 = document.getElementById("idade4").value
    var nomeUsuario5 = document.getElementById("nome5").value
    var idadeUsuario5 = document.getElementById("idade5").value

    var resultado = document.getElementById("resultadoMedias")

    
    if (nomeUsuario1 == "" || idadeUsuario1 == "" || nomeUsuario2 == "" || idadeUsuario2 == "" || nomeUsuario3 == "" || idadeUsuario3 == "" || nomeUsuario4 == "" || idadeUsuario4 == "" || nomeUsuario5 == "" || idadeUsuario5 == "") {
        window.alert("Favor completar todos os campos em branco.")

    } else if ((idadeUsuario1 < 1 || idadeUsuario1 > 127) || (idadeUsuario2 < 1 || idadeUsuario2 > 127) || (idadeUsuario3 < 1 || idadeUsuario3 > 127) || (idadeUsuario4 < 1 || idadeUsuario4 > 127) || (idadeUsuario5 < 1 || idadeUsuario5 > 127)) {
        window.alert("A idade informada deve estar entre 1 e 127.")
    } else {

        let arrayPessoas = [{
                nome: nomeUsuario1,
                idade: idadeUsuario1
            },
            {
                nome: nomeUsuario2,
                idade: idadeUsuario2
            },
            {
                nome: nomeUsuario3,
                idade: idadeUsuario3
            },
            {
                nome: nomeUsuario4,
                idade: idadeUsuario4
            },
            {
                nome: nomeUsuario5,
                idade: idadeUsuario5
            },
        ]

        var soma = 0;
        var mediaIdades = 0;
        for (i = 0; i < arrayPessoas.length; i++) {
            soma += Number(arrayPessoas[i].idade)
        }
        mediaIdades = soma / arrayPessoas.length

        var menorIdade = 200;
        for (i = 0; i < arrayPessoas.length; i++) {
            if (arrayPessoas[i].idade < menorIdade) {
                menorIdade = Number(arrayPessoas[i].idade)
            } else {
                menorIdade = menorIdade
            }
        }

        var usuarioMenorIdade = ""
        for (i = 0; i < arrayPessoas.length; i++) {
            if (arrayPessoas[i].idade == menorIdade) {
                usuarioMenorIdade = arrayPessoas[i].nome
                console.log("arrayPessoas[i].nome", arrayPessoas[i].nome)
            }
        }

        resultado.innerHTML = `A média das idades é ${mediaIdades}. A mais jovem é ${usuarioMenorIdade} que têm ${menorIdade} anos.`
    }

}

function limpar() {

    document.getElementById("nome1").value = ""
    document.getElementById("idade1").value = ""
    document.getElementById("nome2").value = ""
    document.getElementById("idade2").value = ""
    document.getElementById("nome3").value = ""
    document.getElementById("idade3").value = ""
    document.getElementById("nome4").value = ""
    document.getElementById("idade4").value = ""
    document.getElementById("nome5").value = ""
    document.getElementById("idade5").value = ""

    document.getElementById("resultadoMedias").innerHTML = ""
}
</script>

</html>